#!/usr/bin/env node
"use strict";var AD=require("fs"),bD=require("tty"),Eu=require("rollup"),yD=require("path"),vD=require("@rollup/plugin-node-resolve"),wD=require("@rollup/plugin-commonjs"),$D=require("@rollup/plugin-json"),OD=require("@rollup/plugin-alias"),jD=require("@rollup/plugin-replace"),PD=require("@rollup/plugin-inject"),_D=require("@rollup/pluginutils"),pu=require("esbuild"),du=require("module"),xD=require("magic-string");function O(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var P=O(AD),kD=O(bD),m=O(yD),SD=O(vD),TD=O(wD),ND=O($D),ID=O(OD),gu=O(jD),RD=O(PD),LD=O(xD),hu=/-(\w)/g,mu=u=>u.replace(hu,(D,e)=>e.toUpperCase()),Bu=/\B([A-Z])/g,MD=u=>u.replace(Bu,"-$1").toLowerCase(),{stringify:L}=JSON,{hasOwnProperty:qD}=Object.prototype,G=(u,D)=>qD.call(u,D),WD=/^--?/,UD=/[.:=]/,VD=u=>{let D=u.replace(WD,""),e,t=D.match(UD);if(t!=null&&t.index){let r=t.index;e=D.slice(r+1),D=D.slice(0,r)}return{flagName:D,flagValue:e}},zD=/[\s.:=]/,GD=(u,D)=>{let e=`Invalid flag name ${L(D)}:`;if(D.length===0)throw new Error(`${e} flag name cannot be empty}`);if(D.length===1)throw new Error(`${e} single characters are reserved for aliases`);let t=D.match(zD);if(t)throw new Error(`${e} flag name cannot contain the character ${L(t==null?void 0:t[0])}`);let r;if(hu.test(D)?r=mu(D):Bu.test(D)&&(r=MD(D)),r&&G(u,r))throw new Error(`${e} collides with flag ${L(r)}`)};function ZD(u){let D=new Map;for(let e in u){if(!G(u,e))continue;GD(u,e);let t=u[e];if(t&&typeof t=="object"){let{alias:r}=t;if(typeof r=="string"){if(r.length===0)throw new Error(`Invalid flag alias ${L(e)}: flag alias cannot be empty`);if(r.length>1)throw new Error(`Invalid flag alias ${L(e)}: flag aliases can only be a single-character`);if(D.has(r))throw new Error(`Flag collision: Alias "${r}" is already used`);D.set(r,{name:e,schema:t})}}}return D}var YD=u=>!u||typeof u=="function"?!1:Array.isArray(u)||Array.isArray(u.type),JD=u=>{let D={};for(let e in u)G(u,e)&&(D[e]=YD(u[e])?[]:void 0);return D},Du=(u,D)=>u===Number&&D===""?Number.NaN:u===Boolean?D!=="false":D,HD=(u,D)=>{for(let e in u){if(!G(u,e))continue;let t=u[e];if(!t)continue;let r=D[e];if(!(r!==void 0&&!(Array.isArray(r)&&r.length===0))&&"default"in t){let n=t.default;typeof n=="function"&&(n=n()),D[e]=n}}},Au=(u,D)=>{if(!D)throw new Error(`Missing type on flag "${u}"`);return typeof D=="function"?D:Array.isArray(D)?D[0]:Au(u,D.type)},KD=/^-[\da-z]+/i,QD=/^--[\w-]{2,}/,eu="--";function XD(u,D=process.argv.slice(2)){let e=ZD(u),t={flags:JD(u),unknownFlags:{},_:Object.assign([],{[eu]:[]})},r,n=(i,a,s)=>{let l=Au(i,a);s=Du(l,s),s!==void 0&&!Number.isNaN(s)?Array.isArray(t.flags[i])?t.flags[i].push(l(s)):t.flags[i]=l(s):r=F=>{Array.isArray(t.flags[i])?t.flags[i].push(l(Du(l,F||""))):t.flags[i]=l(Du(l,F||"")),r=void 0}},o=(i,a)=>{i in t.unknownFlags||(t.unknownFlags[i]=[]),a!==void 0?t.unknownFlags[i].push(a):r=(s=!0)=>{t.unknownFlags[i].push(s),r=void 0}};for(let i=0;i<D.length;i+=1){let a=D[i];if(a===eu){let l=D.slice(i+1);t._[eu]=l,t._.push(...l);break}let s=KD.test(a);if(QD.test(a)||s){r&&r();let l=VD(a),{flagValue:F}=l,{flagName:c}=l;if(s){for(let E=0;E<c.length;E+=1){let d=c[E],A=e.get(d),g=E===c.length-1;A?n(A.name,A.schema,g?F:!0):o(d,g?F:!0)}continue}let f=u[c];if(!f){let E=mu(c);f=u[E],f&&(c=E)}if(!f){o(c,F);continue}n(c,f,F)}else r?r(a):t._.push(a)}return r&&r(),HD(u,t.flags),t}var ue=Object.create,Z=Object.defineProperty,De=Object.defineProperties,ee=Object.getOwnPropertyDescriptor,te=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertyNames,bu=Object.getOwnPropertySymbols,ne=Object.getPrototypeOf,yu=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,vu=(u,D,e)=>D in u?Z(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,Y=(u,D)=>{for(var e in D||(D={}))yu.call(D,e)&&vu(u,e,D[e]);if(bu)for(var e of bu(D))oe.call(D,e)&&vu(u,e,D[e]);return u},tu=(u,D)=>De(u,te(D)),ae=u=>Z(u,"__esModule",{value:!0}),ie=(u,D)=>()=>(u&&(D=u(u=0)),D),se=(u,D)=>()=>(D||u((D={exports:{}}).exports,D),D.exports),le=(u,D,e,t)=>{if(D&&typeof D=="object"||typeof D=="function")for(let r of re(D))!yu.call(u,r)&&(e||r!=="default")&&Z(u,r,{get:()=>D[r],enumerable:!(t=ee(D,r))||t.enumerable});return u},Fe=(u,D)=>le(ae(Z(u!=null?ue(ne(u)):{},"default",!D&&u&&u.__esModule?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0})),u),v=ie(()=>{}),ce=se((u,D)=>{v(),D.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});v(),v(),v();var Ce=u=>{var D,e,t;let r=(D=process.stdout.columns)!=null?D:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(r)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:r}:{columns:(e=u.columns)!=null?e:[],stdoutColumns:(t=u.stdoutColumns)!=null?t:r}};v(),v(),v(),v(),v();function fe({onlyFirst:u=!1}={}){let D=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(D,u?void 0:"g")}function wu(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(fe(),"")}v();function Ee(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}var pe=Fe(ce(),1);function x(u){if(typeof u!="string"||u.length===0||(u=wu(u),u.length===0))return 0;u=u.replace((0,pe.default)(),"  ");let D=0;for(let e=0;e<u.length;e++){let t=u.codePointAt(e);t<=31||t>=127&&t<=159||t>=768&&t<=879||(t>65535&&e++,D+=Ee(t)?2:1)}return D}var $u=u=>Math.max(...u.split(`
`).map(x)),de=u=>{let D=[];for(let e of u){let{length:t}=e,r=t-D.length;for(let n=0;n<r;n+=1)D.push(0);for(let n=0;n<t;n+=1){let o=$u(e[n]);o>D[n]&&(D[n]=o)}}return D};v();var Ou=/^\d+%$/,ju={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},ge=(u,D)=>{var e;let t=[];for(let r=0;r<u.length;r+=1){let n=(e=D[r])!=null?e:"auto";if(typeof n=="number"||n==="auto"||n==="content-width"||typeof n=="string"&&Ou.test(n)){t.push(tu(Y({},ju),{width:n,contentWidth:u[r]}));continue}if(n&&typeof n=="object"){let o=tu(Y(Y({},ju),n),{contentWidth:u[r]});o.horizontalPadding=o.paddingLeft+o.paddingRight,t.push(o);continue}throw new Error(`Invalid column width: ${JSON.stringify(n)}`)}return t};function he(u,D){for(let e of u){let{width:t}=e;if(t==="content-width"&&(e.width=e.contentWidth),t==="auto"){let a=Math.min(20,e.contentWidth);e.width=a,e.autoOverflow=e.contentWidth-a}if(typeof t=="string"&&Ou.test(t)){let a=Number.parseFloat(t.slice(0,-1))/100;e.width=Math.floor(D*a)-(e.paddingLeft+e.paddingRight)}let{horizontalPadding:r}=e,n=1,o=n+r;if(o>=D){let a=o-D,s=Math.ceil(e.paddingLeft/r*a),l=a-s;e.paddingLeft-=s,e.paddingRight-=l,e.horizontalPadding=e.paddingLeft+e.paddingRight}e.paddingLeftString=e.paddingLeft?" ".repeat(e.paddingLeft):"",e.paddingRightString=e.paddingRight?" ".repeat(e.paddingRight):"";let i=D-e.horizontalPadding;e.width=Math.max(Math.min(e.width,i),n)}}var Pu=()=>Object.assign([],{columns:0});function me(u,D){let e=[Pu()],[t]=e;for(let r of u){let n=r.width+r.horizontalPadding;t.columns+n>D&&(t=Pu(),e.push(t)),t.push(r),t.columns+=n}for(let r of e){let n=r.reduce((c,f)=>c+f.width+f.horizontalPadding,0),o=D-n;if(o===0)continue;let i=r.filter(c=>"autoOverflow"in c),a=i.filter(c=>c.autoOverflow>0),s=a.reduce((c,f)=>c+f.autoOverflow,0),l=Math.min(s,o);for(let c of a){let f=Math.floor(c.autoOverflow/s*l);c.width+=f,o-=f}let F=Math.floor(o/i.length);for(let c=0;c<i.length;c+=1){let f=i[c];c===i.length-1?f.width+=o:f.width+=F,o-=F}}return e}function Be(u,D,e){let t=ge(e,D);return he(t,u),me(t,u)}v(),v(),v();var ru=10,_u=(u=0)=>D=>`\x1B[${D+u}m`,xu=(u=0)=>D=>`\x1B[${38+u};5;${D}m`,ku=(u=0)=>(D,e,t)=>`\x1B[${38+u};2;${D};${e};${t}m`;function Ae(){let u=new Map,D={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};D.color.gray=D.color.blackBright,D.bgColor.bgGray=D.bgColor.bgBlackBright,D.color.grey=D.color.blackBright,D.bgColor.bgGrey=D.bgColor.bgBlackBright;for(let[e,t]of Object.entries(D)){for(let[r,n]of Object.entries(t))D[r]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},t[r]=D[r],u.set(n[0],n[1]);Object.defineProperty(D,e,{value:t,enumerable:!1})}return Object.defineProperty(D,"codes",{value:u,enumerable:!1}),D.color.close="\x1B[39m",D.bgColor.close="\x1B[49m",D.color.ansi=_u(),D.color.ansi256=xu(),D.color.ansi16m=ku(),D.bgColor.ansi=_u(ru),D.bgColor.ansi256=xu(ru),D.bgColor.ansi16m=ku(ru),Object.defineProperties(D,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;r.length===3&&(r=r.split("").map(o=>o+o).join(""));let n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:e=>D.rgbToAnsi256(...D.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let t,r,n;if(e>=232)t=((e-232)*10+8)/255,r=t,n=t;else{e-=16;let a=e%36;t=Math.floor(e/36)/5,r=Math.floor(a/6)/5,n=a%6/5}let o=Math.max(t,r,n)*2;if(o===0)return 30;let i=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(t));return o===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>D.ansi256ToAnsi(D.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>D.ansi256ToAnsi(D.hexToAnsi256(e)),enumerable:!1}}),D}var be=Ae(),ye=be,J=new Set(["\x1B","\x9B"]),ve=39,nu="\x07",Su="[",we="]",Tu="m",ou=`${we}8;;`,Nu=u=>`${J.values().next().value}${Su}${u}${Tu}`,Iu=u=>`${J.values().next().value}${ou}${u}${nu}`,$e=u=>u.split(" ").map(D=>x(D)),au=(u,D,e)=>{let t=[...D],r=!1,n=!1,o=x(wu(u[u.length-1]));for(let[i,a]of t.entries()){let s=x(a);if(o+s<=e?u[u.length-1]+=a:(u.push(a),o=0),J.has(a)&&(r=!0,n=t.slice(i+1).join("").startsWith(ou)),r){n?a===nu&&(r=!1,n=!1):a===Tu&&(r=!1);continue}o+=s,o===e&&i<t.length-1&&(u.push(""),o=0)}!o&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},Oe=u=>{let D=u.split(" "),e=D.length;for(;e>0&&!(x(D[e-1])>0);)e--;return e===D.length?u:D.slice(0,e).join(" ")+D.slice(e).join("")},je=(u,D,e={})=>{if(e.trim!==!1&&u.trim()==="")return"";let t="",r,n,o=$e(u),i=[""];for(let[s,l]of u.split(" ").entries()){e.trim!==!1&&(i[i.length-1]=i[i.length-1].trimStart());let F=x(i[i.length-1]);if(s!==0&&(F>=D&&(e.wordWrap===!1||e.trim===!1)&&(i.push(""),F=0),(F>0||e.trim===!1)&&(i[i.length-1]+=" ",F++)),e.hard&&o[s]>D){let c=D-F,f=1+Math.floor((o[s]-c-1)/D);Math.floor((o[s]-1)/D)<f&&i.push(""),au(i,l,D);continue}if(F+o[s]>D&&F>0&&o[s]>0){if(e.wordWrap===!1&&F<D){au(i,l,D);continue}i.push("")}if(F+o[s]>D&&e.wordWrap===!1){au(i,l,D);continue}i[i.length-1]+=l}e.trim!==!1&&(i=i.map(s=>Oe(s)));let a=[...i.join(`
`)];for(let[s,l]of a.entries()){if(t+=l,J.has(l)){let{groups:c}=new RegExp(`(?:\\${Su}(?<code>\\d+)m|\\${ou}(?<uri>.*)${nu})`).exec(a.slice(s).join(""))||{groups:{}};if(c.code!==void 0){let f=Number.parseFloat(c.code);r=f===ve?void 0:f}else c.uri!==void 0&&(n=c.uri.length===0?void 0:c.uri)}let F=ye.codes.get(Number(r));a[s+1]===`
`?(n&&(t+=Iu("")),r&&F&&(t+=Nu(F))):l===`
`&&(r&&F&&(t+=Nu(r)),n&&(t+=Iu(n)))}return t};function Pe(u,D,e){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(t=>je(t,D,e)).join(`
`)}var Ru=u=>Array.from({length:u}).fill("");function _e(u,D){let e=[],t=0;for(let r of u){let n=0,o=r.map(a=>{var s;let l=(s=D[t])!=null?s:"";t+=1,a.preprocess&&(l=a.preprocess(l)),$u(l)>a.width&&(l=Pe(l,a.width,{hard:!0}));let F=l.split(`
`);if(a.postprocess){let{postprocess:c}=a;F=F.map((f,E)=>c.call(a,f,E))}return a.paddingTop&&F.unshift(...Ru(a.paddingTop)),a.paddingBottom&&F.push(...Ru(a.paddingBottom)),F.length>n&&(n=F.length),tu(Y({},a),{lines:F})}),i=[];for(let a=0;a<n;a+=1){let s=o.map(l=>{var F;let c=(F=l.lines[a])!=null?F:"",f=Number.isFinite(l.width)?" ".repeat(l.width-x(c)):"",E=l.paddingLeftString;return l.align==="right"&&(E+=f),E+=c,l.align==="left"&&(E+=f),E+l.paddingRightString}).join("");i.push(s)}e.push(i.join(`
`))}return e.join(`
`)}function xe(u,D){if(!u||u.length===0)return"";let e=de(u),t=e.length;if(t===0)return"";let{stdoutColumns:r,columns:n}=Ce(D);if(n.length>t)throw new Error(`${n.length} columns defined, but only ${t} columns found`);let o=Be(r,n,e);return u.map(i=>_e(o,i)).join(`
`)}v();var ke=["<",">","=",">=","<="];function Se(u){if(!ke.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}function Te(u){let D=Object.keys(u).map(e=>{let[t,r]=e.split(" ");Se(t);let n=Number.parseInt(r,10);if(Number.isNaN(n))throw new TypeError(`Invalid breakpoint value: ${r}`);let o=u[e];return{operator:t,breakpoint:n,value:o}}).sort((e,t)=>t.breakpoint-e.breakpoint);return e=>{var t;return(t=D.find(({operator:r,breakpoint:n})=>r==="="&&e===n||r===">"&&e>n||r==="<"&&e<n||r===">="&&e>=n||r==="<="&&e<=n))==null?void 0:t.value}}const Ne=u=>u.replace(/[-_ ](\w)/g,(D,e)=>e.toUpperCase()),Ie=u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),Re={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:u=>u.trim()},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function Le(u){let D=!1;const e=Object.keys(u).sort((t,r)=>t.localeCompare(r)).map(t=>{const r=u[t],n="alias"in r;return n&&(D=!0),{name:t,flag:r,flagFormatted:`--${Ie(t)}`,aliasesEnabled:D,aliasFormatted:n?`-${r.alias}`:void 0}}).map(t=>(t.aliasesEnabled=D,[{type:"flagName",data:t},{type:"flagDescription",data:t}]));return{type:"table",data:{tableData:e,tableBreakpoints:Re}}}const Lu=u=>{var D;return!u||((D=u.version)!=null?D:u.help?u.help.version:void 0)},Mu=u=>{var D;const e="parent"in u&&((D=u.parent)==null?void 0:D.name);return(e?`${e} `:"")+u.name};function Me(u){var D;const e=[];u.name&&e.push(Mu(u));const t=(D=Lu(u))!=null?D:"parent"in u&&Lu(u.parent);if(t&&e.push(`v${t}`),e.length!==0)return{id:"name",type:"text",data:`${e.join(" ")}
`}}function qe(u){const{help:D}=u;if(!(!D||!D.description))return{id:"description",type:"text",data:`${D.description}
`}}function We(u){var D;const e=u.help||{};if("usage"in e)return e.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(e.usage)?e.usage.join(`
`):e.usage}}:void 0;if(u.name){const t=[],r=[Mu(u)];if(u.flags&&Object.keys(u.flags).length>0&&r.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:n}=u,o=n.indexOf("--"),i=o>-1&&n.slice(o+1).some(a=>a.startsWith("<"));r.push(n.map(a=>a!=="--"?a:i?"--":"[--]").join(" "))}if(r.length>1&&t.push(r.join(" ")),"commands"in u&&((D=u.commands)==null?void 0:D.length)&&t.push(`${u.name} <command>`),t.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:t.join(`
`)}}}}function Ue(u){var D;if(!("commands"in u)||!((D=u.commands)!=null&&D.length))return;const e=u.commands.map(t=>[t.options.name,t.options.help?t.options.help.description:""]);return{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:e,tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}function Ve(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:Le(u.flags),indentBody:0}}}function ze(u){const{help:D}=u;if(!D||!D.examples||D.examples.length===0)return;let{examples:e}=D;if(Array.isArray(e)&&(e=e.join(`
`)),e)return{id:"examples",type:"section",data:{title:"Examples:",body:e}}}function Ge(u){if(!("alias"in u)||!u.alias)return;const{alias:D}=u,e=Array.isArray(D)?D.join(", "):D;return{id:"aliases",type:"section",data:{title:"Aliases:",body:e}}}const Ze=u=>[Me,qe,We,Ue,Ve,ze,Ge].map(D=>D(u)).filter(D=>Boolean(D)),Ye=kD.default.WriteStream.prototype.hasColors();class Je{text(D){return D}bold(D){return Ye?`\x1B[1m${D}\x1B[22m`:D.toLocaleUpperCase()}indentText({text:D,spaces:e}){return D.replace(/^/gm," ".repeat(e))}heading(D){return this.bold(D)}section({title:D,body:e,indentBody:t=2}){return`${(D?`${this.heading(D)}
`:"")+(e?this.indentText({text:this.render(e),spaces:t}):"")}
`}table({tableData:D,tableOptions:e,tableBreakpoints:t}){return xe(D.map(r=>r.map(n=>this.render(n))),t?Te(t):e)}flagParameter(D){return D===Boolean?"":D===String?"<string>":D===Number?"<number>":Array.isArray(D)?this.flagParameter(D[0]):"<value>"}flagOperator(D){return" "}flagName(D){const{flag:e,flagFormatted:t,aliasesEnabled:r,aliasFormatted:n}=D;let o="";if(n?o+=`${n}, `:r&&(o+="    "),o+=t,"placeholder"in e&&typeof e.placeholder=="string")o+=`${this.flagOperator(D)}${e.placeholder}`;else{const i=this.flagParameter("type"in e?e.type:e);i&&(o+=`${this.flagOperator(D)}${i}`)}return o}flagDefault(D){return JSON.stringify(D)}flagDescription({flag:D}){var e;let t="description"in D&&(e=D.description)!=null?e:"";if("default"in D){let{default:r}=D;typeof r=="function"&&(r=r()),r&&(t+=` (default: ${this.flagDefault(r)})`)}return t}render(D){if(typeof D=="string")return D;if(Array.isArray(D))return D.map(e=>this.render(e)).join(`
`);if("type"in D&&this[D.type]){const e=this[D.type];if(typeof e=="function")return e.call(this,D.data)}throw new Error(`Invalid node type: ${JSON.stringify(D)}`)}}const qu=/^[\w.-]+$/;var He=Object.defineProperty,Ke=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,Wu=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,Uu=(u,D,e)=>D in u?He(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,S=(u,D)=>{for(var e in D||(D={}))Xe.call(D,e)&&Uu(u,e,D[e]);if(Wu)for(var e of Wu(D))ut.call(D,e)&&Uu(u,e,D[e]);return u},iu=(u,D)=>Ke(u,Qe(D));const{stringify:j}=JSON,Dt=/[|\\{}()[\]^$+*?.]/;function su(u){const D=[];let e,t;for(const r of u){if(t)throw new Error(`Invalid parameter: Spread parameter ${j(t)} must be last`);const n=r[0],o=r[r.length-1];let i;if(n==="<"&&o===">"&&(i=!0,e))throw new Error(`Invalid parameter: Required parameter ${j(r)} cannot come after optional parameter ${j(e)}`);if(n==="["&&o==="]"&&(i=!1,e=r),i===void 0)throw new Error(`Invalid parameter: ${j(r)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let a=r.slice(1,-1);const s=a.slice(-3)==="...";s&&(t=r,a=a.slice(0,-3));const l=a.match(Dt);if(l)throw new Error(`Invalid parameter: ${j(r)}. Invalid character found ${j(l[0])}`);D.push({name:a,required:i,spread:s})}return D}function lu(u,D,e,t){for(let r=0;r<D.length;r+=1){const{name:n,required:o,spread:i}=D[r],a=Ne(n);if(a in u)throw new Error(`Invalid parameter: ${j(n)} is used more than once.`);const s=i?e.slice(r):e[r];if(i&&(r=D.length),o&&(!s||i&&s.length===0))return console.error(`Error: Missing required parameter ${j(n)}
`),t(),process.exit(1);u[a]=s}}function et(u){return u===void 0||u!==!1}function Vu(u,D,e,t){const r=S({},D.flags),n=D.version;n&&(r.version={type:Boolean,description:"Show version"});const{help:o}=D,i=et(o);i&&!("help"in r)&&(r.help={type:Boolean,alias:"h",description:"Show help"});const a=XD(r,t),s=()=>{console.log(D.version)};if(n&&a.flags.version===!0)return s(),process.exit(0);const l=new Je,F=i&&(o==null?void 0:o.render)?o.render:E=>l.render(E),c=E=>{const d=Ze(iu(S(S({},D),E?{help:E}:{}),{flags:r}));console.log(F(d,l))};if(i&&a.flags.help===!0)return c(),process.exit(0);if(D.parameters){let{parameters:E}=D,d=a._;const A=E.indexOf("--"),g=E.slice(A+1),p=Object.create(null);if(A>-1&&g.length>0){E=E.slice(0,A);const C=a._["--"];d=d.slice(0,-C.length||void 0),lu(p,su(E),d,c),lu(p,su(g),C,c)}else lu(p,su(E),d,c);Object.assign(a._,p)}const f=iu(S({},a),{showVersion:s,showHelp:c});return typeof e=="function"&&e(f),S({command:u},f)}function tt(u,D){const e=new Map;for(const t of D){const r=[t.options.name],{alias:n}=t.options;n&&(Array.isArray(n)?r.push(...n):r.push(n));for(const o of r){if(e.has(o))throw new Error(`Duplicate command name found: ${j(o)}`);e.set(o,t)}}return e.get(u)}function rt(u,D,e=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!qu.test(u.name)))throw new Error(`Invalid script name: ${j(u.name)}`);const t=e[0];if(u.commands&&qu.test(t)){const r=tt(t,u.commands);if(r)return Vu(r.options.name,iu(S({},r.options),{parent:u}),r.callback,e.slice(1))}return Vu(void 0,u,D,e)}var nt="0.0.0-semantic-release";const zu=u=>P.default.promises.access(u).then(()=>!0,()=>!1),ot=async u=>{const D=m.default.join(u,"package.json");if(!await zu(D))throw new Error(`package.json not found at: ${D}`);const t=await P.default.promises.readFile(D,"utf8");try{return JSON.parse(t)}catch(r){throw new Error(`Cannot parse package.json: ${r.message}`)}},at=/^[/.]/,H=(u,D)=>(!m.default.isAbsolute(u)&&!at.test(u)&&(u=`./${u}`),D&&!u.endsWith("/")&&(u+="/"),u);var it=Object.defineProperty,st=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,Gu=Object.getOwnPropertySymbols,Ft=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,Zu=(u,D,e)=>D in u?it(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,M=(u,D)=>{for(var e in D||(D={}))Ft.call(D,e)&&Zu(u,e,D[e]);if(Gu)for(var e of Gu(D))ct.call(D,e)&&Zu(u,e,D[e]);return u},q=(u,D)=>st(u,lt(D));const _=u=>{if(u.endsWith(".mjs"))return"module";if(u.endsWith(".cjs"))return"commonjs"},Yu=u=>u.startsWith(".");function Ju(u,D,e="exports"){if(u){if(typeof u=="string")return Yu(u)?[{outputPath:u,type:_(u)||D,from:e}]:[];if(Array.isArray(u))return u.filter(Yu).map((r,n)=>({outputPath:r,type:_(r)||D,from:`${e}[${n}]`}));if(typeof u=="object")return Object.entries(u).flatMap(([t,r])=>{if(typeof r=="string"){const n={outputPath:r,from:`${e}.${t}`};if(t==="require")return q(M({},n),{type:"commonjs"});if(t==="import")return q(M({},n),{type:_(r)||D});if(t==="types")return q(M({},n),{type:"types"});if(t==="node")return q(M({},n),{type:_(r)||D,platform:"node"});if(t==="default")return q(M({},n),{type:_(r)||D})}return Ju(r,D,`${e}.${t}`)})}return[]}function T(u,D){D.outputPath=H(D.outputPath);const{outputPath:e,type:t,platform:r}=D,n=u[e];if(n){if(n.type!==t)throw new Error(`Conflicting export types "${n.type}" & "${t}" found for ${e}`);if(n.platform!==r)throw new Error(`Conflicting export platforms "${n.platform}" & "${r}" found for ${e}`)}u[e]=D}const Ct=u=>{var D,e,t,r;const n={},o=(D=u.type)!=null?D:"commonjs";if(u.main){const i=u.main;T(n,{outputPath:i,type:(e=_(i))!=null?e:o,from:"main"})}if(u.module&&T(n,{outputPath:u.module,type:"module",from:"module"}),u.types&&T(n,{outputPath:u.types,type:"types",from:"types"}),u.bin){const{bin:i}=u;if(typeof i=="string")T(n,{outputPath:i,type:(t=_(i))!=null?t:o,isExecutable:!0,from:"bin"});else for(const[a,s]of Object.entries(i))T(n,{outputPath:s,type:(r=_(s))!=null?r:o,isExecutable:!0,from:`bin.${a}`})}if(u.exports){const i=Ju(u.exports,o);for(const a of i)T(n,a)}return Object.values(n)},ft=["peerDependencies","dependencies","optionalDependencies"],Et=u=>{const D=[];for(const e of ft){const t=u[e];t&&D.push(...Object.keys(t))}return D},pt=({imports:u},D)=>{const e={};if(u)for(const t in u){if(t.startsWith("#"))continue;const r=u[t];typeof r=="string"&&(e[t]=m.default.join(D,r))}return e},{stringify:Fu}=JSON;async function dt(u,D){for(const e of D){const t=u+e;if(await zu(t))return t}}const Hu={".d.ts":[".d.ts",".ts"],".js":[".js",".ts",".tsx"],".mjs":[".mjs",".js",".cjs",".mts",".ts"],".cjs":[".cjs",".js",".mjs",".cts",".ts"]};async function gt(u,D,e){if(!u.outputPath.startsWith(e))throw new Error(`Export path ${Fu(u.outputPath)} from ${Fu(`package.json#${u.from}`)} is not in directory ${e}`);const t=D+u.outputPath.slice(e.length);for(const r of Object.keys(Hu))if(u.outputPath.endsWith(r)){const n=await dt(t.slice(0,-r.length),Hu[r]);if(n)return n}throw new Error(`Could not find mathing source file for export path ${Fu(u.outputPath)}`)}var ht=Object.defineProperty,mt=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,Ku=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,Qu=(u,D,e)=>D in u?ht(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,yt=(u,D)=>{for(var e in D||(D={}))At.call(D,e)&&Qu(u,e,D[e]);if(Ku)for(var e of Ku(D))bt.call(D,e)&&Qu(u,e,D[e]);return u},vt=(u,D)=>mt(u,Bt(D));const cu="pkgroll:create-require",Xu=`IS_ESM${Math.random().toString(36).slice(2)}`,wt=()=>vt(yt({},RD.default({require:cu})),{name:"create-require",resolveId:u=>u===cu?u:null,load(u){return u!==cu?null:`
		import { createRequire } from 'module';

		export default (
			${Xu}
				? /* @__PURE__ */ createRequire(import.meta.url)
				: require
		);
		`}}),$t=u=>({name:"create-require-insert-format",renderChunk:gu.default({[Xu]:u}).renderChunk});function K(u){const D=/^\\\\\?\\/.test(u),e=/[^\u0000-\u0080]+/.test(u);return D||e?u:u.replace(/\\/g,"/")}function Ot(u,D){for(;;){const e=m.default.join(u,D);if(P.default.existsSync(e))return K(e);const t=m.default.dirname(u);if(t===u)return;u=t}}var uD=du.createRequire(typeof document=="undefined"?new(require("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("cli.js",document.baseURI).href);function jt(u,D){D===void 0&&(D=!1);var e=u.length,t=0,r="",n=0,o=16,i=0,a=0,s=0,l=0,F=0;function c(C,b){for(var w=0,y=0;w<C||!b;){var B=u.charCodeAt(t);if(B>=48&&B<=57)y=y*16+B-48;else if(B>=65&&B<=70)y=y*16+B-65+10;else if(B>=97&&B<=102)y=y*16+B-97+10;else break;t++,w++}return w<C&&(y=-1),y}function f(C){t=C,r="",n=0,o=16,F=0}function E(){var C=t;if(u.charCodeAt(t)===48)t++;else for(t++;t<u.length&&N(u.charCodeAt(t));)t++;if(t<u.length&&u.charCodeAt(t)===46)if(t++,t<u.length&&N(u.charCodeAt(t)))for(t++;t<u.length&&N(u.charCodeAt(t));)t++;else return F=3,u.substring(C,t);var b=t;if(t<u.length&&(u.charCodeAt(t)===69||u.charCodeAt(t)===101))if(t++,(t<u.length&&u.charCodeAt(t)===43||u.charCodeAt(t)===45)&&t++,t<u.length&&N(u.charCodeAt(t))){for(t++;t<u.length&&N(u.charCodeAt(t));)t++;b=t}else F=3;return u.substring(C,b)}function d(){for(var C="",b=t;;){if(t>=e){C+=u.substring(b,t),F=2;break}var w=u.charCodeAt(t);if(w===34){C+=u.substring(b,t),t++;break}if(w===92){if(C+=u.substring(b,t),t++,t>=e){F=2;break}var y=u.charCodeAt(t++);switch(y){case 34:C+='"';break;case 92:C+="\\";break;case 47:C+="/";break;case 98:C+="\b";break;case 102:C+="\f";break;case 110:C+=`
`;break;case 114:C+="\r";break;case 116:C+="	";break;case 117:var B=c(4,!0);B>=0?C+=String.fromCharCode(B):F=4;break;default:F=5}b=t;continue}if(w>=0&&w<=31)if(W(w)){C+=u.substring(b,t),F=2;break}else F=6;t++}return C}function A(){if(r="",F=0,n=t,a=i,l=s,t>=e)return n=e,o=17;var C=u.charCodeAt(t);if(Cu(C)){do t++,r+=String.fromCharCode(C),C=u.charCodeAt(t);while(Cu(C));return o=15}if(W(C))return t++,r+=String.fromCharCode(C),C===13&&u.charCodeAt(t)===10&&(t++,r+=`
`),i++,s=t,o=14;switch(C){case 123:return t++,o=1;case 125:return t++,o=2;case 91:return t++,o=3;case 93:return t++,o=4;case 58:return t++,o=6;case 44:return t++,o=5;case 34:return t++,r=d(),o=10;case 47:var b=t-1;if(u.charCodeAt(t+1)===47){for(t+=2;t<e&&!W(u.charCodeAt(t));)t++;return r=u.substring(b,t),o=12}if(u.charCodeAt(t+1)===42){t+=2;for(var w=e-1,y=!1;t<w;){var B=u.charCodeAt(t);if(B===42&&u.charCodeAt(t+1)===47){t+=2,y=!0;break}t++,W(B)&&(B===13&&u.charCodeAt(t)===10&&t++,i++,s=t)}return y||(t++,F=1),r=u.substring(b,t),o=13}return r+=String.fromCharCode(C),t++,o=16;case 45:if(r+=String.fromCharCode(C),t++,t===e||!N(u.charCodeAt(t)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return r+=E(),o=11;default:for(;t<e&&g(C);)t++,C=u.charCodeAt(t);if(n!==t){switch(r=u.substring(n,t),r){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return r+=String.fromCharCode(C),t++,o=16}}function g(C){if(Cu(C)||W(C))return!1;switch(C){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function p(){var C;do C=A();while(C>=12&&C<=15);return C}return{setPosition:f,getPosition:function(){return t},scan:D?p:A,getToken:function(){return o},getTokenValue:function(){return r},getTokenOffset:function(){return n},getTokenLength:function(){return t-n},getTokenStartLine:function(){return a},getTokenStartCharacter:function(){return n-l},getTokenError:function(){return F}}}function Cu(u){return u===32||u===9||u===11||u===12||u===160||u===5760||u>=8192&&u<=8203||u===8239||u===8287||u===12288||u===65279}function W(u){return u===10||u===13||u===8232||u===8233}function N(u){return u>=48&&u<=57}var Q;(function(u){u.DEFAULT={allowTrailingComma:!1}})(Q||(Q={}));function Pt(u,D,e){D===void 0&&(D=[]),e===void 0&&(e=Q.DEFAULT);var t=null,r=[],n=[];function o(a){Array.isArray(r)?r.push(a):t!==null&&(r[t]=a)}var i={onObjectBegin:function(){var a={};o(a),n.push(r),r=a,t=null},onObjectProperty:function(a){t=a},onObjectEnd:function(){r=n.pop()},onArrayBegin:function(){var a=[];o(a),n.push(r),r=a,t=null},onArrayEnd:function(){r=n.pop()},onLiteralValue:o,onError:function(a,s,l){D.push({error:a,offset:s,length:l})}};return _t(u,i,e),r[0]}function _t(u,D,e){e===void 0&&(e=Q.DEFAULT);var t=jt(u,!1);function r(h){return h?function(){return h(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter())}:function(){return!0}}function n(h){return h?function($){return h($,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter())}:function(){return!0}}var o=r(D.onObjectBegin),i=n(D.onObjectProperty),a=r(D.onObjectEnd),s=r(D.onArrayBegin),l=r(D.onArrayEnd),F=n(D.onLiteralValue),c=n(D.onSeparator),f=r(D.onComment),E=n(D.onError),d=e&&e.disallowComments,A=e&&e.allowTrailingComma;function g(){for(;;){var h=t.scan();switch(t.getTokenError()){case 4:p(14);break;case 5:p(15);break;case 3:p(13);break;case 1:d||p(11);break;case 2:p(12);break;case 6:p(16);break}switch(h){case 12:case 13:d?p(10):f();break;case 16:p(1);break;case 15:case 14:break;default:return h}}}function p(h,$,V){if($===void 0&&($=[]),V===void 0&&(V=[]),E(h),$.length+V.length>0)for(var z=t.getToken();z!==17;){if($.indexOf(z)!==-1){g();break}else if(V.indexOf(z)!==-1)break;z=g()}}function C(h){var $=t.getTokenValue();return h?F($):i($),g(),!0}function b(){switch(t.getToken()){case 11:var h=t.getTokenValue(),$=Number(h);isNaN($)&&(p(2),$=0),F($);break;case 7:F(null);break;case 8:F(!0);break;case 9:F(!1);break;default:return!1}return g(),!0}function w(){return t.getToken()!==10?(p(3,[],[2,5]),!1):(C(!1),t.getToken()===6?(c(":"),g(),uu()||p(4,[],[2,5])):p(5,[],[2,5]),!0)}function y(){o(),g();for(var h=!1;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(h||p(4,[],[]),c(","),g(),t.getToken()===2&&A)break}else h&&p(6,[],[]);w()||p(4,[],[2,5]),h=!0}return a(),t.getToken()!==2?p(7,[2],[]):g(),!0}function B(){s(),g();for(var h=!1;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if(h||p(4,[],[]),c(","),g(),t.getToken()===4&&A)break}else h&&p(6,[],[]);uu()||p(4,[],[4,5]),h=!0}return l(),t.getToken()!==4?p(8,[4],[]):g(),!0}function uu(){switch(t.getToken()){case 3:return B();case 1:return y();case 10:return C(!0);default:return b()}}return g(),t.getToken()===17?e.allowEmptyContent?!0:(p(4,[],[]),!1):uu()?(t.getToken()!==17&&p(9,[],[]),!0):(p(4,[],[]),!1)}var xt=Pt;const DD=u=>K(/^[./]/.test(u)?u:`./${u}`);var kt=Object.defineProperty,St=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,eD=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,tD=(u,D,e)=>D in u?kt(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,I=(u,D)=>{for(var e in D||(D={}))Nt.call(D,e)&&tD(u,e,D[e]);if(eD)for(var e of eD(D))It.call(D,e)&&tD(u,e,D[e]);return u},Rt=(u,D)=>St(u,Tt(D));function rD(u){var D,e;const t=P.default.realpathSync(u),r=m.default.dirname(t),n=P.default.readFileSync(u,"utf8").trim();let o={};if(n&&(o=xt(n),!o||typeof o!="object"))throw new SyntaxError(`Failed to parse JSON: ${u}`);if(o.extends){let i=o.extends;try{i=uD.resolve(i,{paths:[m.default.dirname(u)]})}catch(l){if(l.code==="MODULE_NOT_FOUND")try{i=uD.resolve(m.default.join(i,"tsconfig.json"),{paths:[m.default.dirname(u)]})}catch{}}const a=rD(i);if(delete a.references,(D=a.compilerOptions)!=null&&D.baseUrl){const{compilerOptions:l}=a;l.baseUrl=m.default.relative(r,m.default.join(m.default.dirname(i),l.baseUrl))}a.files&&(a.files=a.files.map(l=>m.default.relative(r,m.default.join(m.default.dirname(i),l)))),a.include&&(a.include=a.include.map(l=>m.default.relative(r,m.default.join(m.default.dirname(i),l)))),delete o.extends;const s=Rt(I(I({},a),o),{compilerOptions:I(I({},a.compilerOptions),o.compilerOptions)});a.watchOptions&&(s.watchOptions=I(I({},a.watchOptions),o.watchOptions)),o=s}if((e=o.compilerOptions)!=null&&e.baseUrl){const{compilerOptions:i}=o;i.baseUrl=DD(i.baseUrl)}if(o.files&&(o.files=o.files.map(DD)),o.include&&(o.include=o.include.map(K)),o.watchOptions){const{watchOptions:i}=o;i.excludeDirectories&&(i.excludeDirectories=i.excludeDirectories.map(a=>K(m.default.resolve(r,a))))}return o}function Lt(u=process.cwd(),D="tsconfig.json"){const e=Ot(u,D);if(!e)return null;const t=rD(e);return{path:e,config:t}}const nD=Lt();var Mt=Object.defineProperty,qt=Object.defineProperties,Wt=Object.getOwnPropertyDescriptors,oD=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,aD=(u,D,e)=>D in u?Mt(u,D,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[D]=e,iD=(u,D)=>{for(var e in D||(D={}))Ut.call(D,e)&&aD(u,e,D[e]);if(oD)for(var e of oD(D))Vt.call(D,e)&&aD(u,e,D[e]);return u},sD=(u,D)=>qt(u,Wt(D));function zt(u){const D=_D.createFilter(/\.([cm]?ts|[jt]sx)$/);return{name:"esbuild-transform",async transform(e,t){var r;if(!D(t))return null;const n=await pu.transform(e,sD(iD({},u),{loader:"default",sourcefile:t.replace(/\.[cm]ts/,".ts"),tsconfigRaw:(r=nD)==null?void 0:r.config}));return{code:n.code,map:n.map||null}}}}const Gt=u=>{if(u==="es")return"esm";if(u==="cjs"||u==="iife")return u};function Zt(u){return{name:"esbuild-minify",async renderChunk(D,e,t){const r=await pu.transform(D,sD(iD({},u),{format:Gt(t.format),minify:!0}));return{code:r.code,map:r.map||null}}}}const fu=(u,D)=>u[0]-D[0]||u[1]-D[1]||u[2]-D[2],lD=({target:u})=>{const D=u.some(e=>{var t,r;if(e=e.trim(),!e.startsWith("node"))return;const n=e.slice(4).split(".").map(Number),o=[n[0],(t=n[1])!=null?t:0,(r=n[2])!=null?r:0];return!(fu(o,[12,20,0])>=0&&fu(o,[13,0,0])<0||fu(o,[14,13,1])>=0)});return{name:"externalize-node-builtins",resolveId:e=>{const t=e.startsWith("node:");if(D&&t&&(e=e.slice(5)),du.builtinModules.includes(e)||t)return{id:e,external:!0}}}},Yt=u=>({name:"patch-binary",renderChunk(D,e,t){if(!e.isEntry||!e.facadeModuleId)return;const r=t.entryFileNames,n=`./${m.default.join(t.dir,r(e))}`;if(u.includes(n)){const o=new LD.default(D);return o.prepend(`#!/usr/bin/env node
`),{code:o.toString(),map:t.sourcemap?o.generateMap({hires:!0}):void 0}}},async writeBundle(D,e){const t=D.entryFileNames,r=Object.values(e).map(async n=>{const o=n;if(o.isEntry&&o.facadeModuleId){const i=m.default.join(D.dir,t(o));await P.default.promises.chmod(i,493)}});await Promise.all(r)}});function FD(){const u=/\.(?:mjs|cjs)$/,D=/\.(?:mts|cts)$/;return{name:"resolve-typescript-mjs-cjs",resolveId(e,t,r){return u.test(e)&&t&&D.test(t)?this.resolve(e.replace(/js$/,"ts"),t,r):null}}}const cD=u=>u.split("?")[0],CD={async type(u){const D=await Promise.resolve().then(function(){return require("./rollup-plugin-dts-0f3886be.js")});return{input:[],preserveEntrySignatures:"strict",plugins:[lD(u),FD(),D.default({respectExternal:!0})],output:[],external:[]}},app(u,D,e,t){const r={target:u.target};return{input:[],preserveEntrySignatures:"strict",plugins:[lD(u),FD(),ID.default({entries:D}),SD.default({extensions:[".mjs",".js",".ts",".jsx",".tsx",".json"],exportConditions:u.exportCondition}),...Object.keys(e).length>0?[gu.default({preventAssignment:!0,objectGuards:!0,values:e})]:[],TD.default(),ND.default(),zt(r),wt(),...u.minify?[Zt(r)]:[],Yt(t)],output:[],external:[]}}};async function Jt(u,D,e,t,r,n){const o=e.filter(({exportEntry:s})=>s.isExecutable).map(({exportEntry:s})=>s.outputPath),i=Object.create(null),a=Object.fromEntries(t.env.map(({key:s,value:l})=>[`process.env.${s}`,JSON.stringify(l)]));for(const{input:s,exportEntry:l}of e){if(l.type==="types"){let d=i.type;d||(d=await CD.type(t),d.external=n,i.type=d),d.input.push(s);const A=".d.ts";d.output=[{dir:D,entryFileNames:g=>P.default.realpathSync.native(cD(g.facadeModuleId)).slice(u.length).replace(/\.\w+$/,A),exports:"auto",format:"esm"}];continue}let F=i.app;F||(F=CD.app(t,r,a,o),F.external=n,i.app=F),F.input.includes(s)||F.input.push(s);const c=F.output,f=m.default.extname(l.outputPath),E=`${l.type}-${f}`;if(!c[E]){const d={dir:D,exports:"auto",format:l.type,chunkFileNames:`[name]-[hash]${f}`,plugins:[$t(l.type==="module")],entryFileNames:A=>P.default.realpathSync.native(cD(A.facadeModuleId)).slice(u.length).replace(/\.\w+$/,f)};c.push(d),c[E]=d}}return i}let k=!0;const R=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{};let fD=0;if(R.process&&R.process.env&&R.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:D,TERM:e}=R.process.env;D||u==="0"?k=!1:u==="1"?k=!0:e==="dumb"?k=!1:"CI"in R.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(t=>t in R.process.env)?k=!0:k=process.stdout.isTTY,k&&(fD=e&&e.endsWith("-256color")?2:1)}let ED={enabled:k,supportLevel:fD};function Ht(u,D,e=1){const t=`\x1B[${u}m`,r=`\x1B[${D}m`,n=new RegExp(`\\x1b\\[${D}m`,"g");return o=>ED.enabled&&ED.supportLevel>=e?t+(""+o).replace(n,t)+r:""+o}const Kt=Ht(90,39),Qt=()=>new Date().toLocaleTimeString(),X=(...u)=>console.log(`[${Kt(Qt())}]`,...u);var pD,dD;const U=rt({name:"pkgroll",version:nt,flags:{src:{type:String,description:"Source directory",default:"./src"},dist:{type:String,description:"Distribution directory",default:"./dist"},minify:{type:Boolean,description:"Minify output",alias:"m",default:!1},target:{type:[String],default:[`node${process.versions.node}`],description:"Environments to support. `target` in tsconfig.json is automatically added. Defaults to the current Node.js version.",alias:"t"},watch:{type:Boolean,description:"Watch mode",alias:"w",default:!1},env:{type:[function(D){const[e,t]=D.split("=");return{key:e,value:t}}],description:"Compile-time environment variables (eg. --env.NODE_ENV=production)"},exportCondition:{type:[String],description:"Export conditions for resolving dependency export and import maps (eg. --export-condition=node)"}},help:{description:"Minimalistic package bundler",render(u,D){return D.flagOperator=e=>e.name==="env"?".key=":" ",D.render(u)}}}),gD=process.cwd(),hD=H(U.flags.src,!0),mD=H(U.flags.dist,!0),BD=(dD=(pD=nD)==null?void 0:pD.config.compilerOptions)==null?void 0:dD.target;BD&&U.flags.target.push(BD),(async()=>{const u=await ot(gD),D=Ct(u);if(D.length===0)throw new Error("No export entries found in package.json");const e=await Promise.all(D.map(async o=>({input:await gt(o,hD,mD),exportEntry:o}))),t=pt(u,gD),r=Et(u).filter(o=>!(o in t)).flatMap(o=>[o,new RegExp(`^${o}/`)]),n=await Jt(H(P.default.realpathSync.native(hD),!0),mD,e,U.flags,t,r);U.flags.watch?(X("Watch initialized"),Object.values(n).map(async o=>{Eu.watch(o).on("event",async a=>{a.code==="BUNDLE_START"&&X("Building",...Array.isArray(a.input)?a.input:[a.input]),a.code==="BUNDLE_END"&&(await Promise.all(o.output.map(s=>a.result.write(s))),X("Built",...Array.isArray(a.input)?a.input:[a.input])),a.code==="ERROR"&&X("Error:",a.error.message)})})):await Promise.all(Object.values(n).map(async o=>{const i=await Eu.rollup(o);return Promise.all(o.output.map(a=>i.write(a)))}))})().catch(u=>{console.error(u),process.exit(1)});
